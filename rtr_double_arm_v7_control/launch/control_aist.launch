<launch>
  <arg name="model" default="$(find rtr_double_arm_v7_description)/urdf/RTRDoubleArmV7S.urdf.xacro"/>
  <param name="use_sim_time" value="true"/>

  <!-- robot description -->
  <param name="/RTRDoubleArmV7/robot_description" command="$(find xacro)/xacro --inorder '$(arg model)'"/>
  <!-- state publisher -->
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher">
    <remap from="joint_states" to="/RTRDoubleArmV7/joint_states"/>
  </node>

  <!-- load the controllers -->
  <rosparam file="$(find rtr_double_arm_v7_control)/config/rtr_double_arm_v7s_control.yaml" command="load"/>
  <node name="rtr_double_arm_v7_controller_spawner" pkg="controller_manager"
		type="spawner" output="screen" respawn="true"
		args="--namespace RTRDoubleArmV7
              tohoku_arm_controller
              mani_arm_controller
              tohoku_gripper_controller
              mani_gripper_controller
              base_controller"/>

</launch>
